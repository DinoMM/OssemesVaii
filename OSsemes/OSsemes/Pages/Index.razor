@page "/"

@using OSsemes.Data
@using OSsemes.Data.Database
@using Microsoft.EntityFrameworkCore
@inject Blazored.SessionStorage.ISessionStorageService sessionStorage

<InfoModal @ref="infoReg" Text="Rezervácia prebehla úspešne. Ďakujeme." />
@* <ApproveModal @ref="mod" Text="Chces pokracovat?" FuncOnSucc="succes" FuncOnDiss="EventCallback.Empty"/> *@
@* <FastFormModal @ref="fFormMod"
               FuncOnSucc="Succ"
               Inputs="@(new List<(string, string)>() { ("Nazov1", "string"), ("Nazov2", "string")})">
</FastFormModal> *@

<PageTitle>Hotel X</PageTitle>

<OSsemes.Pages.MainPage.Carousel />



<OSsemes.Pages.MainPage.Content />


@code {
    private InfoModal infoReg;
    private FastFormModal fFormMod;
    //     private ApproveModal mod;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)        //ak uz bol prvy render
        {
            if ((await sessionStorage.GetItemAsync<bool>("ResCreated")))        //prejdenie session storageu
            {
                await infoReg.OpenModal();
                await sessionStorage.SetItemAsync("ResCreated", false);
            }
            // await fFormMod.OpenModal();
        }
    }

    // public void Succ()
    // {
    //     Console.WriteLine("Uspesne dostane " + fFormMod.Outputs[0] + " " + fFormMod.Outputs[1]);

    // }


    // private void succes()
    // {
    //     Console.WriteLine("Uspech");
    // }

    // private void notsuc()
    // {
    //     Console.WriteLine("NEUSPECHHH");
    // }



}
